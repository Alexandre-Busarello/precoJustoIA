# Database (PostgreSQL)
# SOLUÇÃO PADRÃO: Uma única URL com prepared_statements=false

DATABASE_URL="postgres://username:password@db.prisma.io:5432/postgres?prepared_statements=false&pgbouncer=true&connection_limit=1"

# CONFIGURAÇÕES ANTIGAS (comentadas para referência)
# PRISMA_DATABASE_URL="prisma+postgres://accelerate.prisma-data.net/?api_key=YOUR_API_KEY"
# POSTGRES_URL="postgres://username:password@db.prisma.io:5432/postgres"

# NextAuth.js
NEXTAUTH_SECRET="your-secret-key-here"
NEXTAUTH_URL="http://localhost:3000"

# Google OAuth
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Brapi API (opcional - para rate limiting maior)
BRAPI_TOKEN="your-brapi-token"

# Google Gemini AI
GEMINI_API_KEY="your-gemini-api-key-here"

# Prisma (para builds na Vercel)
PRISMA_GENERATE_DATAPROXY="true"

# API Secrets para execução remota
FETCH_API_SECRET="your-fetch-api-secret-here"
CRON_SECRET="your-cron-secret-here"

# Ward API (para dados históricos)
WARD_JWT_TOKEN="your-ward-jwt-token-here"

# Stripe Configuration
STRIPE_SECRET_KEY="sk_test_your_stripe_secret_key_here"
STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key_here"
STRIPE_WEBHOOK_SECRET="whsec_your_webhook_secret_here"

# Stripe Product IDs (created in Stripe Dashboard)
STRIPE_PREMIUM_MONTHLY_PRICE_ID="price_your_monthly_price_id"
STRIPE_PREMIUM_ANNUAL_PRICE_ID="price_your_annual_price_id"

# Stripe Public Keys (for client-side)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key_here"
NEXT_PUBLIC_STRIPE_PREMIUM_MONTHLY_PRICE_ID="price_your_monthly_price_id"
NEXT_PUBLIC_STRIPE_PREMIUM_ANNUAL_PRICE_ID="price_your_annual_price_id"

# Mercado Pago Configuration (for PIX payments)
MERCADOPAGO_ACCESS_TOKEN="your_mercadopago_access_token_here"
MERCADOPAGO_PUBLIC_KEY="your_mercadopago_public_key_here"
NEXT_PUBLIC_MERCADOPAGO_PUBLIC_KEY="your_mercadopago_public_key_here"

# Redis Configuration (for distributed caching)
REDIS_URL="redis://localhost:6379"
# Para Redis Cloud/Upstash: redis://username:password@host:port
# Para Redis local com senha: redis://:password@localhost:6379

# Redis Rate Limiting (dedicated Redis instance for rate limiting)
# Use uma instância separada do Redis para isolar o rate limiting do cache geral
REDIS_RATE_LIMIT_URL="redis://localhost:6379"
# Se usar a mesma instância, pode usar o mesmo REDIS_URL
# Mas recomendado usar instância separada para melhor isolamento
MERCADOPAGO_WEBHOOK_SECRET="your_mercadopago_webhook_secret_here"

# Email Configuration (for password reset)
EMAIL_HOST="smtp.gmail.com"
EMAIL_PORT="587"
EMAIL_SECURE="false"
EMAIL_USER="your-email@gmail.com"
EMAIL_PASS="your-app-password"
EMAIL_FROM="your-email@gmail.com"
EMAIL_FROM_NAME="Preço Justo AI"

# Asset Monitoring Configuration
MONITORING_BATCH_SIZE="20"  # Number of companies to process per cron execution
MONITORING_SCORE_THRESHOLD="5"  # Minimum score change to trigger notification (points)

# Price Variation Monitoring
PRICE_DROP_1D="5"  # Percentage drop in 1 day to trigger report (e.g., 5 = 5%)
PRICE_DROP_30D="20"  # Percentage drop in 30 days to trigger report
PRICE_DROP_1Y="50"  # Percentage drop in 1 year to trigger report
PRICE_MONITORING_BATCH_SIZE="50"  # Number of companies to process per cron run

# Custom Trigger Monitoring
CUSTOM_TRIGGER_BATCH_SIZE="30"  # Number of custom triggers to evaluate per cron run

# AI Report Generation
AI_REPORT_GENERATION_BATCH_SIZE="5"  # Number of reports to generate per cron run
AI_REPORT_TIMEOUT_MS="50000"  # Timeout per report generation step (50 seconds)
NEXT_PUBLIC_BASE_URL="https://precojusto.ai"  # Base URL for email links

# Email Verification Configuration
EMAIL_VERIFICATION_REQUIRED="true"  # Require email verification before trial
EMAIL_VERIFICATION_TOKEN_EXPIRY="86400"  # Token expiry in seconds (24 hours)

# Trial Configuration
ENABLE_TRIAL="true"  # Enable 1-day trial for new users
